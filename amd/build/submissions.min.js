/*
  2023 mattandor <mattan@centricapp.co>
 @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
*/
define(["jquery"],function(a){return{unsetLimit:function(){var b=a("#id_attemptreopenmethod"),c=a("#id_maxattempts");b.find("option").removeAttr("disabled");c.find("option").removeAttr("disabled")},setLimit:function(){var b=a("#id_attemptreopenmethod"),c=a("#id_maxattempts");b.find("option").attr("disabled",!0);b.find("[value=manual]").prop("selected",!0).removeAttr("disabled");b.change().click();c.find("option").attr("disabled",!0);c.find("[value=2]").prop("selected",!0).removeAttr("disabled");c.change().click()},
submissions:function(){var b=this,c=a("#id_originality_use"),h=a("#id_originality_use_ghostwriter"),k=a("input[id=id_submitbutton], input[id=id_submitbutton2]"),l=c.val(),d=a("#fitem_fgroup_id_assignsubmission_file_filetypes"),m=setInterval(function(){1==h.val()&&(d.find("[type=text]").val(".rtf,.docx,.doc").attr("readonly",!0),d.find("[type=button]").attr("disabled",!0));0<d.find("[type=button]").length&&clearInterval(m)},2E3);h.change(function(){1==a(this).val()?(d.find("[type=text]").val(".rtf,.docx,.doc").attr("readonly",
!0),d.find("[type=button]").attr("disabled",!0)):(d.find("[type=text]").removeAttr("readonly"),d.find("#id_assignsubmission_file_filetypes").val("*"),d.find("[type=button]").removeAttr("disabled"))});2==l&&b.setLimit();c.change(function(){var e=a(this).val(),f=a("#assignment_has_submissions_notifications");2==e?b.setLimit():b.unsetLimit();1==e&&(a(".originality-message").toggle(!0),f.length&&require(["core/notification"],function(g){g.alert("Notification",f.html(),"OK")}))});k.on("click",function(e){var f=
a("#id_assignsubmission_onlinetext_enabled").is(":checked"),g=a("#id_originality_use_ghostwriter").val();f&&1==g&&a(".originality-gw-notify").length&&(e.preventDefault(),require(["core/notification"],function(n){n.alert("",a(".core-notification msg").text(),a(".core-notification btn").text())}))});a("#originality-checkbox").length&&(a("#region-main input[id=id_submitbutton]").click(function(e){a("#originality-checkbox").is(":checked")||(e.preventDefault(),require(["core/notification"],function(f){f.alert("Originality Warning",
a(".core-notification msg").text(),a(".core-notification btn").text())}))}),a("#region-main #originality-checkbox").click(function(){var e=a(this).is(":checked");a(".originality-checkbox-form").remove();a(".mform").prepend('<input type="hidden" value="'+e+'" class="originality-checkbox-form" name="originality-checkbox-form">')}))}}});
